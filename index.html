<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- TODO: Change title -->
    <title>HomeWork_4</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <!-- <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script> -->
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>

  <body>

  <!-- Page header -->
  <!-- https://bulma.io/documentation/layout/hero/ -->
  <section class="hero is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <!-- TODO: Change title -->
        <h1 class="title">Hierarchical Visualization</h1>
        <!-- TODO: Change subtitle -->
        <h2 class="subtitle">of Encampment Reports in San Francisco in February 2020</h2>
      </div>
    </div>
  </section>
  <!-- End page header -->

  <!-- Page navigation -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <!-- TODO: Change link to repository homepage if needed -->
        <!-- TODO: Change which navbar-item is-active if needed -->
        <a class="navbar-item is-active" href="index.html">
          <span class="icon"><i class="fas fa-home"></i></span>
          <span>Home</span>
        </a>

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="main-menu" class="navbar-menu has-text-weight-medium">
        <!-- Left navbar items -->
        <div class="navbar-start">
          <a class="navbar-item" href="#data" title="Data">
            <span class="icon"><i class="fas fa-table"></i></span>
            <span>Data</span>
          </a>
        </div>


        <!-- Right navbar items -->
        <div class="navbar-end">
          <!-- TODO: Update as needed -->
          <a class="navbar-item" href="#about" title="About">
            <span class="icon"><i class="fas fa-tasks"></i></span>
            <span>Grade</span>
          </a>

          <a class="navbar-item" href="#about" title="About">
            <span class="icon"><i class="fas fa-info-circle"></i></span>
            <span>About</span>
          </a>
        </div>
      </div>
    </div>
  </nav>
  <!-- End page navigation -->

  <section class="section">
    <div class="container">
      <!-- Begin page content -->
      <div class="content">
        <h1 class="title">
          <!-- TODO: Change page title -->
          Description
        </h1>
        <p class="subtitle">
          <!-- TODO: Change page subtitle -->
          
        </p>
      </br>

        <p>The following is a visualization showing the distribution of 311 calls, specifically encampments, in San Francisco in February 2020.
        </p>
       <figure>
        <div id="vis"><span id="info"></span><svg width="960" height="500">
            <g id="basemap"></g>

            <!-- turn off pointer events for certain groups -->
            <g id="streets" pointer-events="none"></g>
            <g id="outline" pointer-events="none"></g>

            <g id="encampments"></g>
            <g id="tooltip" pointer-events="none"></g>
            <g id="details" pointer-events="none"></g>
        </svg></div>
        <figcaption>
            Source: <a href="https://data.sfgov.org/Public-Safety/Police-Department-Incident-Reports-2018-to-Present/wg3w-h783">SF 311 Dataset: February 2020</a>
          </figcaption>
        </figure>
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="vis.js"></script>
        <p></p>

        
        <h2>Dataset</h2>
        <p>I used the publicly-available <a href="https://data.sfgov.org/City-Infrastructure/311-Cases/vw6y-z8j6">SF 311 Dataset</a>, filtering to February 2020 and to only the encampment category to arrive at a total of <b>6182</b> records.</p>
        <p>The encampment data was retrived using DataSF's SODA API endpoint, using the following URL to filter for month and category:</p>
        <ul><li><a href="https://data.sfgov.org/resource/vw6y-z8j6.json?$where=requested_datetime between '2020-02-01T00:00:00' and '2020-03-01T00:00:00' and service_name = 'Encampments'&$limit=100000">https://data.sfgov.org/resource/vw6y-z8j6.json?$where=requested_datetime between '2020-02-01T00:00:00' and '2020-03-01T00:00:00' and service_name = 'Encampments'&$limit=100000</a></li></ul>
        <p>Geolocation data for the neighborhoods was retrived from <a href="https://data.sfgov.org/Geographic-Locations-and-Boundaries/SF-Find-Neighborhoods/pty2-tcw4">SF Find</a> tool's dataset.</p>

        <h2>Encoding</h2>
        
        <p>Neighborhoods is shaded according to the density of encampment records per square mile, using a log scale to enhance contrast. Detailed information per neighborhood is displayed in the info box at the top left of the visualization.</p>

        <h2>Interactivity</h2>
        
        <p>Hover over a neighborhood to see its case statistics, in absolute count and normalized per square mile. Drag to pan, and use mouse wheel to zoom.</p>

        <h2>Wrangling</h2>
        <p>The above dataset JSON was directly loaded into JavaScript with no additional processing, as JSON is naturally compatible with JavaScript.

        <h2>Conclusion</h2>
        <p>Not surprisingly, the encampment volume was highest in the denser neighborhoods near the city's downtown, as well as lower-income neighborhoods like the Tenderloin and Mission. This is also consistent with my personal observation of the incidence of homeless tents having walked through these areas.
            This map could be used to prioritize long-term policy changes to address the issue of encampments.
        </p>

        <h2>Attribution</h2>
        
        <p>
          <a href="https://vizhub.com/sjengle/ddee531e7a414d97a059d751507e0f41">https://vizhub.com/sjengle/ddee531e7a414d97a059d751507e0f41</a><br/>
        </p>

        <h2 id="grade">Grade</h2>

        <!-- TODO: Remove custom style if no longer needed -->
        <style>
          table.grades tbody tr td:nth-child(1),
          table.grades tbody tr td:nth-child(2) {
            text-align: center;
          }
        </style>

        <!-- TODO: Change or remove table -->
        <!-- https://bulma.io/documentation/elements/table/ -->
        <table class="table is-hoverable is-bordered grades">
          <thead>
            <tr>
              <th>Letter</th>
              <th>Done?</th>
              <th>Description</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <tr>
                <td>A</td>
                <td><svg class="svg-inline--fa fa-check-circle fa-w-16 has-text-success" aria-hidden="true" data-prefix="fas" data-icon="check-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"></path></svg><!-- <i class="has-text-success fas fa-check-circle"></i> --></td>
                <td>
                  <p>This grade requirements has been successfully completed as:</p>
                  <ul>
                      <li>Implement choropleth map with d3v5 successfully</li>
                      <li>Pan and zoom interactivity</li>
                    
                  </ul>
                </td>
              </tr>
            </tr>
          </tbody>

        </table>

        <h2 id="about">About</h2>

        <!-- Profile box -->
        <!-- https://bulma.io/documentation/layout/media-object/ -->
        <article class="media">
          <!-- TODO: Replace with profile photo -->
          <figure class="media-left">
            <p class="image is-128x128"><img class="is-rounded" src="zhenzhen.jpeg"></p>
          </figure>

          <div class="media-content">
            <div class="content">
              <!-- TODO: Replace with contact information -->
              <p>
                <strong>Zhenzhen Wang</strong><br/>
                CS Major, <a href="https://www.usfca.edu/">University of San Francisco</a><br/>
                <em>Expected Graduation: May 2022 </em><br/>
                <i class="fas fa-envelope"></i> <a href="zwang211@dons.usfca.edu">zwang211@dons.usfca.edu</a>
              </p>

              <!-- TODO: Replace with brief biography -->
              <p>
                My name is Zhenzhen Wang. I come from China. I feel really lucky that I can study computer science in USF. I have three courses this semester: data structures, C, and data visualization. It's full of challenges but I am excited to learn all of them. 
                Because I think these courses will help me build good foundation for further studying.
              </p>

              <!-- TODO: Replace or remove tags -->
              <!-- https://bulma.io/documentation/elements/tag/ -->
              <div class="heading">Skills</div>

              <div class="tags">
                <span class="tag">Python</span>
                <span class="tag">C</span>
                <span class="tag">Java</span>
                <span class="tag">JavaScript</span>
                <span class="tag">HTML</span>
                <span class="tag">CSS</span>
                <span class="tag">SVG</span>
              </div>
            </div>
          </div>
        </article>
        <!-- End profile box -->

      </div>
      <!-- End page content -->
    </div>
  </section>

  <!-- Page footer -->
  <!-- https://bulma.io/documentation/layout/footer/ -->
  <footer class="footer">
    <div class="content has-text-centered is-size-7">
      <p>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span class="has-text-weight-medium">Back to Top</span>
        </a>
      </p>

      <p>
        <!-- TODO: Change to link to your Github repository -->
        <a href="https://github.com/usf-cs360-spring2020/template-bulma" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
        </a>

        <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
        </a>

        <a href="https://bulma.io" class="button is-small">
          <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
        </a>
      </p>
    </div>
  </footer>
  <!-- End page footer -->

  <!-- Mobile menu responsiveness -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
  </script>
  <!-- End mobile menu responsiveness -->
  </body>

</html>
